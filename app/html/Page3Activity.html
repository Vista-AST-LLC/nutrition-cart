<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/Page3Activity.css">
    <title>Nutrition Cart</title>
    <meta name="description" content="Website companion of Vista-AST's Nutrition Cart">
    <script src="../js/functionality.js" defer></script>
</head>

<body>
    <div class="container" id="mainApp">
        <!--Nav-->
        <div class="nav">
            <div id="one">
                <h1>üçé Nutrition Tracker</h1>
                <div class="subtitle">Track your daily nutrition intake with ease</div>
            </div>
            <div id="two">
                <ul>
                    <li><a href="../html/Page2Calendar.html">Calendar</a></li>
                    <li><a href="../html/Page3Activity.html">Activity</a></li>
                    <li><a href="../html/Page4Grade.html">Grade</a></li>
                    <!--<li><a href="../html/">Page 4</a></li>-->
                </ul>
            </div>
            <div id="three">
                <button class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="instructionsPanel">
                    <span aria-hidden="true">‚ò∞</span> Instructions
                </button>
            </div>
        </div>
        <!-- Profile Section -->
        <div class="profile-section">
            <div class="profile-info">
                <div class="profile-avatar" id="profileAvatar">U</div>
                <div class="profile-details">
                    <h2 id="profileName">User Profile</h2>
                    <p id="profileDetails">Select your age group to get started</p>
                </div>
            </div>
            <button class="basic-button">Change Profile</button>
        </div>

        <!-- Two column section begins here -->
        <main id="main-content">
            <div class="main-content">
                <div class="card">
                    <h2 class="card-title">Add Food Items</h2>
                    <div class="input-section">
                        <input type="text" id="foodCode" class="code-input"
                            placeholder="Enter food code (e.g., B1, L20, D40, F60)" aria-describedby="codeHelp">
                        <button class="basic-button">Add Food</button>
                    </div>
                    <div id="codeHelp" class="error-message hidden" aria-live="polite"></div>
                    <button class="basic-button">Show/Hide Data Table</button>
                    <div id="tableContainer" class="table-container">
                        <div class="virtual-scroll-container">
                            <table id="nutritionTable">
                                <thead>
                                    <tr>
                                        <th>Reference #</th>
                                        <th>Name</th>
                                        <th>Portion Size</th>
                                        <th>Calories</th>
                                        <th>Protein (g)</th>
                                        <th>Protein (%DV)</th>
                                        <th>Sodium (mg)</th>
                                        <th>Sodium (%DV)</th>
                                        <th>Fats (g)</th>
                                        <th>Fats (%DV)</th>
                                        <th>Carbs (g)</th>
                                        <th>Carbs (%DV)</th>
                                        <th>Fiber (g)</th>
                                        <th>Fiber (%DV)</th>
                                        <th>Cholesterol (mg)</th>
                                        <th>Cholesterol (%DV)</th>
                                        <th>Saturdated Fat (g)</th>
                                        <th>Saturdated Fat (%DV)</th>
                                        <th>Trans Fat (g)</th>
                                        <th>Trans Fat (%DV)</th>
                                        <th>Total Sugars (g)</th>
                                        <th>Total Sugars (%DV)</th>
                                        <th>Meal Type</th>
                                    </tr>
                                </thead>
                                <tbody id="tableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- CSV Upload Section -->
                <div class="card">
                    <h2 class="card-title">
                        Upload Your Data
                        <button class="basic-button">Reset CSV</button>
                    </h2>
                    <div class="upload-section">
                        <div class="file-input-wrapper">
                            <input type="file" id="csvFile" accept=".csv" class="file-input"
                                aria-describedby="fileHelp">
                            <label for="csvFile" class="file-label">Choose CSV File</label>
                        </div>
                        <div id="selectedFileName" class="selected-file">No file selected</div>
                        <div id="fileHelp" class="error-message hidden" aria-live="polite"></div>
                    </div>
                </div>

                <!--Food Items Section-->
                <div class="card">
                    <h2 class="card-title">
                        Your Food Items
                        <button id="resetCategoriesBtn" class="reset-btn">Reset Categories</button>
                    </h2>
                    <div class="category-section">
                        <div class="category-box breakfast-box">
                            <div class="category-title">
                                <span>Breakfast</span>
                                <span id="breakfastCount">0 items</span>
                            </div>
                            <div id="breakfastItems" class="category-items"></div>
                        </div>

                        <div class="category-box lunch-box">
                            <div class="category-title">
                                <span>Lunch</span>
                                <span id="lunchCount">0 items</span>
                            </div>
                            <div id="lunchItems" class="category-items"></div>
                        </div>

                        <div class="category-box dinner-box">
                            <div class="category-title">
                                <span>Dinner</span>
                                <span id="dinnerCount">0 items</span>
                            </div>
                            <div id="dinnerItems" class="category-items"></div>
                        </div>

                        <div class="category-box dessert-box">
                            <div class="category-title">
                                <span>Dessert</span>
                                <span id="dessertCount">0 items</span>
                            </div>
                            <div id="dessertItems" class="category-items"></div>
                        </div>
                    </div>
                </div>

                <!-- Citations Section -->
                <!--
                <div class="citations-section">
                    <h3 class="citations-title">Data Sources & Citations</h3>
                    <div class="citations-content">
                        <div class="citation-item">
                            <span class="citation-number">1.</span> Dietary Guidelines for Americans, 2020‚Äì2025.
                            U.S. Department of Agriculture and U.S. Department of Health and Human Services. 9th
                            Edition. December 2020. Available at: https://www.dietaryguidelines.gov
                        </div>
                        <div class="citation-item">
                            <span class="citation-number">2.</span> Appendix E‚Äë3 tables (nutrient goals by age).
                            U.S. Department of Agriculture and U.S. Department of Health and Human Services.
                            2015‚Äì2020 Dietary Guidelines technical document.
                        </div>
                        <div class="citation-item">
                            <span class="citation-number">3.</span> FDA ‚Äì Daily Values for Nutrition Facts label.
                            U.S. Food and Drug Administration. (Updated 2024.)
                            https://www.fda.gov/food/nutrition-facts-label/daily-value-nutrition-and-supplement-facts-labels
                        </div>
                        <div class="citation-item">
                            <span class="citation-number">4.</span> FDA ‚Äì Key Nutrients and Your Family's Health
                            (kids and teens). U.S. Food and Drug Administration.
                            https://www.fda.gov/media/135619/download
                        </div>
                        <div class="citation-item">
                            <span class="citation-number">5.</span> Dietary Reference Intakes for individuals 4‚Äì18
                            years. Institute of Medicine (National Academy of Medicine).
                        </div>
                        <div class="citation-item">
                            <span class="citation-number">6.</span> American Heart Association ‚Äì Dietary
                            Recommendations for Healthy Children. (Updated 2024.)
                            https://www.heart.org/en/healthy-living/healthy-eating/eat-smart/nutrition-basics/dietary-recommendations-for-healthy-children
                        </div>
                    </div>
                </div> 
                -->
            </div>
            <div id="loading" class="card loading hidden">
                <span class="loading-spinner" aria-hidden="true"></span> Loading and processing your nutrition data...
            </div>

            <div id="message" class="hidden" role="alert" aria-live="polite"></div>
        </main>
    </div>
</body>

</html>